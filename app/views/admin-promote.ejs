<div class="flex flex-col items-center justify-center">
  <h1 class="text-2xl font-bold mb-4">Адмін права</h1>
  <form method="POST" action="/admin/users/admin" class="flex flex-col gap-4 w-full max-w-md">
    <input type="hidden" name="_csrf" value="<%= _csrfToken %>">
    <div>
      <h2 class="text-lg font-semibold mb-2 text-blue-700">Адміни</h2>
      <ul class="mb-4">
        <% if (adminUsers && adminUsers.length > 0) { %>
          <% adminUsers.forEach(function(user) { %>
            <li class="flex items-center gap-2 mb-2">
              <input type="checkbox" name="demoteIds" value="<%= user.id %>" id="demote-<%= user.id %>" <%= currentUser && user.id === currentUser.id ? 'disabled' : '' %> />
              <label for="demote-<%= user.id %>" class="font-semibold"><%= user.callsign || user.id %></label>
              <span class="text-xs text-gray-500">(<%= user.joined_at ? new Date(user.joined_at).toLocaleString('uk-UA', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }) : '' %>)</span>
            </li>
          <% }); %>
        <% } else { %>
          <li class="text-gray-500">Немає адмінів</li>
        <% } %>
      </ul>
    </div>
    <div>
      <h2 class="text-lg font-semibold mb-2 text-green-700">Звичайні користувачі</h2>
      <ul class="mb-4">
        <% if (nonAdminUsers && nonAdminUsers.length > 0) { %>
          <% nonAdminUsers.forEach(function(user) { %>
            <li class="flex items-center gap-2 mb-2">
              <input type="checkbox" name="promoteIds" value="<%= user.id %>" id="promote-<%= user.id %>" />
              <label for="promote-<%= user.id %>" class="font-semibold"><%= user.callsign || user.id %></label>
              <span class="text-xs text-gray-500">(<%= user.joined_at ? new Date(user.joined_at).toLocaleString('uk-UA', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }) : '' %>)</span>
            </li>
          <% }); %>
        <% } else { %>
          <li class="text-gray-500">Немає користувачів для підвищення</li>
        <% } %>
      </ul>
    </div>
    <div class="flex gap-2">
      <button type="submit" class="bg-red-600 text-white rounded px-4 py-2 disabled:opacity-50" name="action" value="demote" <%= !(adminUsers && adminUsers.length > 0) ? 'disabled' : '' %>>Зняти адміна</button>
      <button type="submit" class="bg-green-600 text-white rounded px-4 py-2 disabled:opacity-50" name="action" value="promote" <%= !(nonAdminUsers && nonAdminUsers.length > 0) ? 'disabled' : '' %>>Зробити адміном</button>
    </div>
  </form>
  <a href="/admin" class="mt-4 bg-gray-300 text-gray-800 rounded px-4 py-2">Назад</a>
</div>
